<!DOCTYPE html><html><head><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="/portal/css/index.css"><link rel="shortcut icon" href="/portal/images/favicon.png" type="image/x-icon"><title>Simplity</title></head></html><body><div class="headerContainer"><div class="relative-1"><div> <a href="/portal" class="logo">	Simplity</a></div><ul class="navItems"><li><a href="/portal/getStarted" class="navLinks">Get Started</a></li><li><a href="/portal/examples" class="navLinks">Examples</a></li><li><a href="/portal/guide/" class="navLinks">Guide</a></li><li><a href="/portal/docs/" class="navLinks">Docs</a></li><li><a href="/portal/downloads/" class="navLinks">Downloads</a></li><li><a href="/portal/about/" class="navLinks">About</a></li></ul></div></div></body><div class="downloadsContainer"><div class="downloadsInnerContainer"><div class="downloadsHeader">Services</div><div class="downloadsDesc">Services are component which help in transaction processing. A service is uniquely identified by clients with its published name. We recommend a qualified name of the form module.serviceName. For large projects you may go in for module.subModule.serviceName etc.</div><br><strong>Simplity has several features that simplify designing transaction processing systems that use RDBMS as their data base.</strong><div class="line"></div><h3>Service Context</h3><p>Service context has the following attributes.<ul><li>userId - This is the value that identifies the logged-in user for whom this service is being executed. In case the data base tables have special columns like createdBy and modifiedBy, this is the value that would be pushed such columns. Also, actions may use this value to check for user privileges. This is a read-only field, and can be copied to any field using CopyUserId Action.</li><li>messages - service accumulates messages during the execution of service. You ay add a message explicitly with AddMessage Action.</li><li>ields - this is a collection of name-value pairs. Values are of type text, integer, decimal, date or boolean. You may explicitly set value of a field using SetValue Action. Several actions end up adding fields to this collection. When execution of actions complete, service uses this collection to get values of fields as specified in output specification.</li><li>data sheets - Collection of tabular data identified by sheet name. Each row of the sheet has the same number of cells, one for each column. Several actions use sheets as inputs and create new sheets. You may manipulate a sheet using actions like AddColulumn, CopyRows, RenameSheet etc. Data sheets can be created and manipulated in your Java code with a rich set of APIs exposed by the DataSheet interface as well as Fields interface.</li><custom>objects - Collection of any Object, indexed by unique name. Accessible to your java code, and can be used to pass parameters across logic actions. Note that you should always try to use the standard fields and data sheets as far as possible, and resort to custom object only as a last resort. all the data and messages during the course of a service execution. Data includes fields and data sheets. Service context also has provisions to carry any arbitrary object that can be exchanged between logic actions.</custom></ul></p><div class="line"></div><h3>Service Execution</h3><ul><li><p>A service context is created for this service with the userId for the logged-in user.</p></li><li><p>Input data is parsed as per input specification into the service context.  If there are any errors, service returns the error message(s) as response.</p></li><li><p>Session fields are copied into the service context. At this point, all session fields, input fields and input data sheets are available in the service context.</p></li><li><p>If this service specifies data base access, a JDBC connection to the db is established.</p></li><li><p>If the service specifies write access, a transaction is started for this connection.</p></li><li><p>Service execution now starts with the first action.</p></li><li><p>Service execution continues in a sequence, except for JumpTo and Loop action.</p></li><li><p>If any exception is thrown during the execution, service rolls back the transaction and returns to client with the error message.</p></li><li><p>When the service completes, either after executing the last action, or because of a JumpTo directive, context is checked for error messages. In case of any error message, transaction is rolled back, and the service responds with the error message(s)</p></li><li><p>If there are no error messages in the context, then the transaction is committed. A response is prepared based on the output specification.</p></li><li><p>Service now returns with the response, as well as any session fields that may have been requested back.</p></li></ul><div class="line"></div><p>Service has the following attributes</p><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>name</p></td><td><p>yes</p></td><td><p>Should be same as the file name (without .xml) in which this specification is saved. This would be the last part of the qualified name.</p></td></tr><tr><td><p>moduleName</p></td><td><p>no</p></td><td><p>Should match the folder structure under which this component is saved. If a.b.c is the published name of this service then module name is a.b, service name is c, and the component is saved as /a/b/c.xml  under the the root folder meant for saving services.</p></td></tr><tr><td><p>dbAccessType</p></td><td><p>yes</p></td><td><p>none - no db access
* readOnly - only read access. No write.
* readWrite - write access, under a transaction.
* autoCommit - write access but no transactions. Writes are immediately committed and no roll-back is possible. Should be used with care, as the service may end-up with half of its work done.
* subservice - this service consists of other services and no other action. Each such service manages its own dbAccess.</p></td></tr><tr><td><p>inputData</p></td><td><p>no</p></td><td><p>specified data that is expected from client</p></td></tr><tr><td><p>outputData</p></td><td><p>no</p></td><td><p>specifies what data need to be sent t client on success of this service. In case of error, output data is ignored and error messages are sent instead.</p></td></tr><tr><td><p>actions</p></td><td><p>yes</p></td><td><p>actions to be executed</p></td></tr><tr><td><p>schemaName</p></td><td><p>no</p></td><td><p>special case where an application uses more than one schema. Default schema is assigned to the login credentials associated with application. Use this feature for a service that uses a schema other than this default one.</p></td></tr><tr><td><p>requestTextFieldName</p></td><td><p>no</p></td><td><p>Special case where a custom logic is designed to process the request data that is received as string. For example json. Request string is copied to this field as it is and the service starts executing the actions.</p></td></tr><tr><td><p>responseTextFieldName</p></td><td><p>no</p></td><td><p>Special case where the string with which this service need to respond back is already decided and formatted by some action into a field. Output specification is ignored and text from this field is used as response.</p></td></tr><tr><td><p>referredserviceForInput</p></td><td><p>no</p></td><td><p>fully qualified name of another service that has the same input requirement. This is a simple feature to avoid duplicating input specification across related services that are expecting the same input by design.</p></td></tr><tr><td><p>referredserviceForOutput</p></td><td><p>no</p></td><td><p>fully qualified name of another service that has the same output requirement. This is a simple feature to avoid duplicating output specification across related services that are expected to respond with same set of data by design.</p></td></tr><tr><td><p>executeInBackground</p></td><td><p>no</p></td><td><p>true if this service must be executed in background always. Service request would return with an information message that the service has been successfully initiated.</p></td></tr><tr><td><p>canBeCachedByFields</p></td><td><p>no</p></td><td><p>applicable if caching is enabled for the application. Possible values</p><p>* null - default. Do not cache</p><p>* &quot;empty string&quot; cache this. Example : countries in the world.</p><p>* &quot;fieldName&quot; cache this based on values of field1. Example : stateNames cached by country code. You can specify more than one fields as a comma separated list.</p><p>* &quot;userId&quot; cache this per user. That is, response is same for a given user, but different for different users. Example : user preferences</p><p>Though this is very similar to caching for a value of a field, the caching strategy could be different because of user-sessions. &quot;_userId,fieldName,field2,..&quot; combination of above two cases. That is, this is to be cached per user, but also based on values of one or more field values.</p></td></tr></tbody></table><div class="line"></div><h3>Input Data</h3><p>Input specification determines the input data that the client need to provide for this service.</p><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>inputFields</p></td><td><p>no</p></td><td><p>refer to attributes of Input Field</p></td></tr><tr><td><p>inputRecords</p></td><td><p>no</p></td><td><p>refer to attributes of Input Record</p></td></tr><tr><td><p>attachmentFields</p></td><td><p>no</p></td><td><p>Applicable if attachment management is enabled for this application. Refer to attachmentAssistsnt in application.xml, comma separated list of field names that are associated with attachments. That is, a field that is designed to carry the key to an attachment that is stored outside. For example resumeId could be a field in the employeeMaster that is the key to the document that is stored outside.  Simplity takes care of picking the attachment from temporary storage based on the key in this field, saving it into permenant area using attachmentAssistant, and replacing the key in this field to the new key for tthis permenant storage.</p></td></tr><tr><td><p>attachmentColumns</p></td><td><p>no</p></td><td><p>similar to attachmentFields, but meant for columns in data sheets. Comma separated list of sheetName.columnName.	</p></td></tr></tbody></table><div class="line"></div><h3>inputField</h3><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>name</p></td><td><p>yes</p></td><td><p>As per your naming convention, but no spaces please</p></td></tr><tr><td><p>dataType</p></td><td><p>yes</p></td><td><p>Ensure that you define the right data type for this field, and not use generic ones like text/date. Data type definition is used for validating the data input.</p></td></tr><tr><td><p>isRequired</p></td><td><p>no</p></td><td><p>defaults to optional. Used for validating input.</p></td></tr><tr><td><p>defaultValue</p></td><td><p>no</p></td><td><p>in case you want to use a default value for a field that is required. Note that this value has no effect if the field is marked as optional.	</p></td></tr></tbody></table><div class="line"></div><h3>inputRecord</h3><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>recordName</p></td><td><p>yes</p></td><td><p>fully qualified name of record</p></td></tr><tr><td><p>sheetName</p></td><td><p>no</p></td><td><p>Name of sheet (table) to which the array of data is to be extracted into. DO not specify this if data is not expected in an array.</p></td></tr><tr><td><p>fieldnames</p></td><td><p>no</p></td><td><p>In case you are expecting a subset of the fields of this record. This is a comma separated list of column names.</p></td></tr><tr><td><p>minRows</p></td><td><p>no</p></td><td><p>Minimum number of rows expected.</p></td></tr><tr><td><p>maxRows</p></td><td><p>no</p></td><td><p>Maximum number of columns. It is certainly a good practice to put a practical limit.</p></td></tr><tr><td><p>dataPurpose</p></td><td><p>no</p></td><td><p>Convenient feature to manage input for the same database table, but for different operations like read, update etc..</p><p>*read: Only key field of this record is expected, and it is mandatory. To be sued if this service is meant to read a key-based row from the table/view  associated with this record</p><p>*filter: If this service is meant to search/filter rows from the underlying table/view. All fields would be optional, irrespective of the specification in the record. Also, each field can have the operator to be used for the value with the field name as &lt;fieldname&gt;Operator.  In case the field is number or date, and the operator is between (&gt;&lt;) then an additional value is expected in field name &lt;fieldname&gt;To. Default operator is =. &lt;, &lArr;, &gt;, &gt;=, !=, ~(like), and &gt;&lt;(between) are the valid operators. Refer to filter step.</p><p>*save : insert of update of records. Primary key is ignored for insert if key is to be generated, while it is mandatory for update. Time stamp field, if specified in record, would be mandatory for update operation.</p><p>*subset: all fields, other than the primary key, are optional.</p></td></tr><tr><td><p>saveActionExpected</p></td><td><p>no</p></td><td><p>If purpose is save we may expect  a special field called _saveAction. You may make this field mandatory with this attribute. Default is to decide the action based on presence of key value.</p></td></tr><tr><td><p>parentSheetName</p></td><td><p>no</p></td><td><p>Used for receiving hierarchical data. If specified, rows for this record would be present as arrays in each row of the parent sheet with this sheet name as attribute name. &lt;Refer to an example in tutorial&gt;</p></td></tr><tr><td><p>linkColumnInThisSheet</p></td><td><p>no</p></td><td><p>Required if parentSheetName is specified. Name of the column in this sheet that has the key value of the parent sheet.</p></td></tr><tr><td><p>linkColumnInParentSheet</p></td><td><p>no</p></td><td><p>Required if parentSheetName is specified. Name of the column in the parent sheet that has the key value.</p></td></tr></tbody></table><div class="line"></div><h3>Output Data	</h3><p>Output specification determines the data to be sent to client as a response to this service request. You may specify fields, sheet, or hierarchical data as output. Output specification is used only when the service succeeds. Hence we assume that the service context has all the right data to be sent to the client. We do not carry out any validation.</p><br><table><colgroup><col><col><col></colgroup><tbody><tr><td><p>Attribute name</p></td><td><p>Required?</p></td><td><p>Description</p></td></tr><tr><td><p>fieldnames</p></td><td><p>no</p></td><td><p>comma separated list of fields to be returned</p></td></tr><tr><td><p>outputRecords</p></td><td><p>no</p></td><td><p>refer to Output Record</p></td></tr><tr><td><p>attachmentFields</p></td><td><p>no</p></td><td><p>refer to same attribute in Input Data. Simplity manages to retrieve the attachment using the key in this field, saves content into temp area, and changes this field value with the key to this temp area file.</p></td></tr><tr><td><p>attachmentColumns</p></td><td><p>no</p></td><td><p>similar to attachmentFields, but meant for columns in data sheets. Comma separated list of sheetName.columnName.</p></td></tr><tr><td><p>sessionFields</p></td><td><p>no</p></td><td><p>if you need to save/update session fields, use this feature. For example if the user preferences are saved as session fields, and user changes a preference, then that service will have to reset the session field value.</p></td></tr></tbody></table><div class="line"></div><h3>outputRecord</h3><p>Use a record to specify fields, sheet or hierarchical data.</p><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>recordName</p></td><td><p>yes</p></td><td><p>Fully qualified name of record</p></td></tr><tr><td><p>sheetName</p></td><td><p>no</p></td><td><p>If omitted, column field of this record are used for outputting fields. If sheet name is specified, a data sheet with this name is expected in the service context. Rows from this sheet are output as a sheet, or part of hierarchical data based on parentSheetName attribute.</p></td></tr><tr><td><p>parentSheetName</p></td><td><p>no</p></td><td><p>Name of the sheet of which this sheet is the child. Rows from this sheet are output as child rows of relevant parent row.</p></td></tr><tr><td><p>linkColumnInThisSheet</p></td><td><p>no</p></td><td><p>Required if parentSheetName is specified. Name of the column in this sheet that has the key value of the parent sheet.</p></td></tr><tr><td><p>linkColumnInParentSheet</p></td><td><p>no</p></td><td><p>Required if parentSheetName is specified. Name of the column in the parent sheet that has the key value.</p></td></tr></tbody></table><div class="line"></div><h3>Actions</h3><p>Actions implement the logic/design of your service.Each action does a part of the over-all work. As far as possible, actions are to be designed independent of other actions in the service, just as a service is designed independent of other services in an application.Simplity has been extensively used to deliver services that are part of transaction processing system. We have designed several actions that are well suited to carry out part of such transactions.</p><br><ul><li><b>AddColumn</b> :  Helps in adding column to a data sheet.</li><br><li><b>AddMessage</b> :   Add a message to the context..</li><br><li><b>Complexlogic</b> :  Logic that is implemented in a java code.</li><br><li><b>CopyRows</b> :  Copy rows from a compatible sheet.</li><br><li><b>CopyUserId</b> :   userId id saved in session on login, and is copied into the service context. You can copy this value into any other field you want to deal with.</li><br><li><b>CreateSheet</b> :  Set rows and columns to a table.</li><br><li><b>Download</b> :  Download a file from permanent storage to temp storage.</li><br><li><b>ExecuteSP</b> :  If your db operation is more complex, you may write a stored procedure and execute it using this action.</li><br><li><b>ExecuteSql</b> :  you may design your own sql.Such sql is executed as a prepared statement using this action.</li><br><li><b>Filter</b> : Read rows from the underlying table/view based on the filtering criteria. Rows from one or more child-tables can also be read as part of this action.</li><br><li><b>JumpTo</b> : Service has actions that are executed in a sequence. JumpTo allows you to change this sequence.</li><br><li><b>Log</b> : Log values of fields and sheets into trace.</li><br><li><b>Logic</b> : Logic that is implemented in a java code.</li><br><li><b>Loop</b> : Loop through a set of actions for each row in a data sheet.</li><br><li><b>Read</b> : Read a row from the underlying table/view based on the primary key value. Columns from this row are set as field values in the service context. Rows from one r more child-tables can also be read as part of this action.</li><br><li><b>ReadWithSql</b> : Read a row/s from as output of a prepared statement/sql.Rows from one or more child-tables can also be read as part of this action.</li><br><li><b>RenameSheet</b> : Change the name of a data sheet using this action.</li><br><li><b>RowExists</b> : Check if a row exists in this record for the primary key.</li><br><li><b>Save</b> : Add, update or delete rows of data based on specification in a record. While adding we handle primary key generation, as well as values for fields like createdBy, created at etc.</li><br><li><b>SetValue</b> : Set a field value using an expression that is evaluated at run time.</li><br><li><b>SubService</b> : Service that is to be executed as a step/action in side another service.  </li><br><li><b>Suggest</b> : Speciffically design to provide suggested value for a goolgle-suggest-like control on the client. Columns from matching rows are populated into the output sheet, based on a record definition.</li><br><li><b>Upload</b> :  Upload a file from temp storage to permanent storage and change the file key/token.</li></ul><p>Common Action Attributes are</p><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>actionName</p></td><td><p>no</p></td><td><p>Required only if you use it as a destination of a jump-to action, or you want to use the returned value from this action. If this action returns a value, that value is added to the service context with field name as &lt;actionName&gt;Result. This can be used by subsequent steps.
We assign a default name to every action for our convenience and hence you may find some fields like &quot;_action1Result&quot; if you inspect content of context. You should not use these in any of your code, because we may change these in our subsequent versions.</p></td></tr><tr><td><p>executeOnCondition</p></td><td><p>no</p></td><td><p>An optional Boolean expression. If present, the expression is evaluated at run time and the action is executed only if it evaluates to true. Else the execution proceeds to next action.</p></td></tr><tr><td><p>executeIfRowsInSheet</p></td><td><p>no</p></td><td><p>Another way to set a condition for the action to execute. Not valid if executeOnCondition is specified. This action is executed only if the service context has the named sheet, and the sheet has at least one row</p></td></tr><tr><td><p>executeIfNoRowsInSheet</p></td><td><p>no</p></td><td><p>Complement of the above. Action is executed if sheet is not found, or there are no rows in the sheet.    </p></td></tr></tbody></table><div class="line"></div><h3>RDBMS based Actions</h3><p> Dealing with data base is the core of any transaction processing system. We have designed a set of actions to help you in that. They have the following common attributes (in addition to all the common attributes of action)</p><br><table><colgroup><col><col><col></colgroup><tbody><tr><th><p>Attribute name</p></th><th><p>Required?</p></th><th><p>Description</p></th></tr><tr><td><p>successMessageName</p></td><td><p>no</p></td><td><p>Name of a message to be sent back to client in case the action succeeds. Note that the message itself could be of type success/failure. For example, if you are looking to validate a new mail id, you may do a key-based read. And if the action succeeds, it means that the mail id already exists, and you would send an error message back to client.</p></td></tr><tr><td><p>successMessageParameters</p></td><td><p>no</p></td><td><p>Optional comma separated list of field names, whose values are used to format the message mentioned above. Note that the number of parameters and their sequence should match the parameterization design of the message.  Refer to message design for more details.</p></td></tr><tr><td><p>failureMessageName</p></td><td><p>no</p></td><td><p>Message to use used if the action fails.</p></td></tr><tr><td><p>failureMessageParameters</p></td><td><p>no</p></td><td><p>Optional comma separated list of field names, whose values are used to format the message mentioned above. Note that the number of parameters and their sequence should match the parameterization design of the message.  Refer to message design for more details.</p></td></tr><tr><td><p>stopIfMessageTypeIsError</p></td><td><p>no</p></td><td><p>This action will result in either a success, or a failure. If a message is associated with the result, and the message happens to be of type error, should the execution stop immediately, or should it continue.</p></td></tr></tbody></table></div></div><div class="footerContainer"><div class="quickNavigationContainer"><ul class="footerItems"><li><a href="/portal/getStarted" class="navLinks">Get Started</a></li><li><a href="/portal/examples" class="navLinks">Examples</a></li><li><a href="/portal/guide/" class="navLinks">Guide</a></li><li><a href="/portal/docs/" class="navLinks">Docs</a></li><li><a href="/portal/downloads/" class="navLinks">Downloads</a></li><li><a href="/portal/about/" class="navLinks">About</a></li></ul></div></div>